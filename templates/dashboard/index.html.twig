{% extends 'base.html.twig' %}
{% block body %}
<div class="page-heading">
    <h3>{{ 'dashboard.title'|trans }}</h3>
</div>
{% for flashError in app.flashes('error') %}
    <div class="alert alert-danger" role="alert">{{ flashError }}</div>
{% endfor %}
<div class="page-content">
    <section class="row">
        <div class="col-12 col-lg-6">
            <div class="card">
                <div class="card-content">
                    <div class="card-body">
                        <h4 class="cart-title">{{ 'dashboard.project.list.title'|trans }}</h4>
                        <p class="card-text">Coming soon</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 col-lg-6">
            <div class="card">
                <div class="card-content">
                    <div class="card-body">
                        <h4 class="cart-title">{{ 'dashboard.project.create.title'|trans }}</h4>
                        <div class="row">
                            <div class="col-12 col-md-12">
                                {{ form_start(searchBarForm, {'attr': {'class':'search-bar'}}) }}
                                <div class="input-group search-bar__input-group">
                                    <span class="input-group-text" id="search-address-button">
                                        <i class="bi bi-search"></i>
                                    </span>
                                    {{ form_widget(searchBarForm.address, {'attr':{'class':'form-control dashboard-new-project-search-bar','aria-describedby':'search-address-button'}}) }}
                                    <button class="btn btn-primary" type="submit" id="search-address-button">{{'dashboard.project.create.form_field.submit'|trans}}</button>
                                </div>
                                <div id="search-bar__list-group" class="list-group search-bar__list-group">

                                </div>
                                {{ form_end(searchBarForm) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% if addressData is defined %}
                <div class="card">
                    <div class="card-content">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <h6>{{ 'dashboard.project.create.more_information_address'|trans }}</h6>
                                    <p>
                                        {{ addressData.address.name }}
                                        <br>
                                        {{ addressData.address.postCode }} {{ addressData.address.city }}
                                    </p>
                                    <h6>{{ 'dashboard.project.create.insee_code'|trans }}</h6>
                                    <p>{{ addressData.cityCode }}</p>
                                    <h6>{{ 'dashboard.project.create.gps_coordinates.title'|trans }}</h6>
                                    <p>
                                        {{ 'dashboard.project.create.gps_coordinates.latitude'|trans }} : {{ addressData.latitude }}
                                        <br>
                                        {{ 'dashboard.project.create.gps_coordinates.longitude'|trans }} : {{ addressData.longitude }}
                                    </p>
                                </div>
                                <div class="col-12 col-md-6">
                                    <h6>{{ 'dashboard.project.create.urban_doc_available'|trans }}</h6>
                                    <p>Liste documents</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </section>
</div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('addressSearchBar') }}
{% endblock %}
